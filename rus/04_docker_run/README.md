# Запуск контейнеризированных приложений

- [Запуск контейнеризированных приложений](#запуск-контейнеризированных-приложений)
  - [Просмотр существующих образов](#просмотр-существующих-образов)
  - [Запуск контейнера](#запуск-контейнера)
  - [Передача переменных окружения в контейнер](#передача-переменных-окружения-в-контейнер)
  - [Монтирование томов](#монтирование-томов)
  - [Взаимодействие с контейнером через порты](#взаимодействие-с-контейнером-через-порты)
  - [Просмотр запущенных контейнеров](#просмотр-запущенных-контейнеров)
  - [Остановка контейнера](#остановка-контейнера)
  - [Библиография](#библиография)

Контейнеры являются экземплярами образов. Контейнеры могут быть запущены, остановлены, перемещены и удалены. В этом разделе мы рассмотрим команды для работы с контейнерами.

## Просмотр существующих образов

Для просмотра существующих образов используется команда `docker images`:

```bash
docker images
```

Вывод команды будет содержать следующие столбцы:

- `IMAGE` - имя образа
- `ID` - идентификатор образа
- `CREATED` - дата создания образа
- `SIZE` - размер образа
- `TAG` - тег образа

## Запуск контейнера

Для запуска контейнера используется команда `docker run`:

```bash
docker run <image_name>
```

В данном случае будет создан и запущен контейнер с произвольным именем  на основе образа `<image_name>`. Если образ не найден локально, то он будет загружен из репозитория. Если необходимо запустить контейнер с определенным именем, то используется флаг `--name`:

```bash
docker run --name <container_name> <image_name>
```

Иногда возникает необходимость запустить контейнер в интерактивном режиме, например, для отладки. Взаимодействие с контейнером позволяет просмотреть его содержимое, выполнить в нем команды (например, установить какой-либо пакет).

Для запуска контейнера в интерактивном режиме используется флаг `-it`:

```bash
docker run -it <image_name> <command>
```

Например, для запуска контейнера с образом `ubuntu` в интерактивном режиме используется команда:

```bash
docker run -it ubuntu /bin/bash
```

Для запуска контейнера в фоновом режиме используется флаг `-d`:

```bash
docker run -d <image_name>
```

## Передача переменных окружения в контейнер

Приложение в контейнере может использовать переменные окружения для настройки своего поведения. Для передачи переменных окружения в контейнер используется флаг `-e`:

```bash
docker run -e <variable_name>=<variable_value> <image_name>
```

Пример использования:

```bash
docker run -e USER=user -it ubuntu /bin/bash
```

## Монтирование томов

Монтирование томов позволяет сохранять данные вне контейнера. Для монтирования томов используется флаг `-v`:

```bash
docker run -v <host_path>:<container_path> <image_name>
```

Данная команда привяжет путь `<host_path>` хоста к пути `<container_path>` контейнера. В результате все изменения в папке `<container_path>` будут сохранены в папке `<host_path>`.

Пример использования:

```bash
docker run -v ./data:/data -it ubuntu /bin/bash
```

## Взаимодействие с контейнером через порты

Если необходимо взаимодействовать с контейнером через порты, то используется флаг `-p`:

```bash
docker run -p <host_port>:<container_port> <image_name>
```

Данная команда привяжет порт `<host_port>` хоста к порту `<container_port>` контейнера.

## Просмотр запущенных контейнеров

Для просмотра запущенных контейнеров используется команда `docker ps`:

```bash
docker ps
```

Вывод команды будет содержать следующие столбцы:

- `CONTAINER ID` - идентификатор контейнера
- `IMAGE` - имя образа
- `COMMAND` - команда, запущенная в контейнере
- `CREATED` - дата создания контейнера
- `STATUS` - статус контейнера
- `PORTS` - привязанные порты
- `NAMES` - имя контейнера

## Остановка контейнера

Для остановки контейнера используется команда `docker stop`:

```bash
docker stop <container_name>
```

Одной командой можно остановить сразу несколько контейнеров, для этого необходимо перечислить их имена через пробел:

```bash
docker stop <container_name_1> <container_name_2> <container_name_3>
```

## Библиография

1. [How do I run a container?, docker.com](https://docs.docker.com/guides/walkthroughs/run-a-container/)
2. [Getting started guide, docker.com](https://docs.docker.com/get-started/)
3. [Запуск контейнера Docker, losst.pro, 2020](https://losst.pro/zapusk-kontejnera-docker)
